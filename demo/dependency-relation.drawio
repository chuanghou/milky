<mxfile host="drawio-plugin" modified="2023-06-09T05:06:33.348Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36" etag="jMUEX81UGCKyAySxZCRe" version="20.5.3" type="embed" pages="2"><diagram id="_Z26KuHFKtAP501Jzn5v" name="Page-1"><mxGraphModel dx="932" dy="1779" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="3GqrKqht87loaUVbR90r-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="3GqrKqht87loaUVbR90r-2" target="3GqrKqht87loaUVbR90r-1" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="380" y="270" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3GqrKqht87loaUVbR90r-1" value="application" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="220" y="200" width="120" height="60" as="geometry"/></mxCell><mxCell id="3GqrKqht87loaUVbR90r-2" value="domain" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="220" y="290" width="120" height="60" as="geometry"/></mxCell><mxCell id="3GqrKqht87loaUVbR90r-4" value="adapter" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="310" y="100" width="120" height="60" as="geometry"/></mxCell><mxCell id="3GqrKqht87loaUVbR90r-5" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" target="3GqrKqht87loaUVbR90r-4" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="280" y="200" as="sourcePoint"/><mxPoint x="370" y="160" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3GqrKqht87loaUVbR90r-6" value="infrastructure" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="400" y="200" width="120" height="60" as="geometry"/></mxCell><mxCell id="3GqrKqht87loaUVbR90r-7" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="3GqrKqht87loaUVbR90r-6" target="3GqrKqht87loaUVbR90r-4" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="510" y="330" as="sourcePoint"/><mxPoint x="380" y="330" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3GqrKqht87loaUVbR90r-8" value="basic" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="310" y="380" width="120" height="60" as="geometry"/></mxCell><mxCell id="3GqrKqht87loaUVbR90r-10" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="3GqrKqht87loaUVbR90r-8" target="3GqrKqht87loaUVbR90r-6" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="470" y="340" as="sourcePoint"/><mxPoint x="450" y="340" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3GqrKqht87loaUVbR90r-11" value="client" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="50" y="290" width="120" height="60" as="geometry"/></mxCell><mxCell id="3GqrKqht87loaUVbR90r-12" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="3GqrKqht87loaUVbR90r-11" target="3GqrKqht87loaUVbR90r-4" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="70" y="300" as="sourcePoint"/><mxPoint x="120" y="250" as="targetPoint"/><Array as="points"><mxPoint x="110" y="130"/></Array></mxGeometry></mxCell><mxCell id="3GqrKqht87loaUVbR90r-14" value="common" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="120" y="480" width="120" height="60" as="geometry"/></mxCell><mxCell id="3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="4" target="5" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="4" value="ajc" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="310" y="-10" width="120" height="60" as="geometry"/></mxCell><mxCell id="5" value="starter" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="310" y="-110" width="120" height="60" as="geometry"/></mxCell><mxCell id="6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="3GqrKqht87loaUVbR90r-4" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="380" as="sourcePoint"/><mxPoint x="370" y="50" as="targetPoint"/></mxGeometry></mxCell><mxCell id="9" value="&lt;h1&gt;Milky 项目典型依赖图&lt;/h1&gt;&lt;p&gt;Milky 架构践行DDD思想，同时提供了大量简单易用的工具，左图为一个milky项目典型依赖图&lt;/p&gt;&lt;p&gt;首先讲解一下各个模块主要责任，&lt;/p&gt;&lt;p&gt;starter一般为项目启动容器入口，除了典型的SpringbootApplication，还应该包含大量的测试代码&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1"><mxGeometry x="570" y="80" width="280" height="190" as="geometry"/></mxCell><mxCell id="10" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="3GqrKqht87loaUVbR90r-2" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="370" y="380" as="sourcePoint"/><mxPoint x="370" y="340" as="targetPoint"/></mxGeometry></mxCell><mxCell id="13" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="3GqrKqht87loaUVbR90r-14" target="3GqrKqht87loaUVbR90r-8" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="480" y="280" as="sourcePoint"/><mxPoint x="370" y="470" as="targetPoint"/></mxGeometry></mxCell><mxCell id="14" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="3GqrKqht87loaUVbR90r-11" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="180" y="480" as="sourcePoint"/><mxPoint x="180" y="410" as="targetPoint"/></mxGeometry></mxCell></root></mxGraphModel></diagram><diagram id="47IBcKULD_5l7LhlH-Ec" name="Page-2"><mxGraphModel dx="1114" dy="549" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="jDEXYgaGeJS_ahB3zwSS-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-5" target="jDEXYgaGeJS_ahB3zwSS-6"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-5" value="请求入口" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1"><mxGeometry x="50" y="210" width="80" height="80" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-6" target="jDEXYgaGeJS_ahB3zwSS-8"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-6" value="一堆业务逻辑代码" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="220" y="220" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-8" target="jDEXYgaGeJS_ahB3zwSS-10"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-8" value="修改数据库记录A" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="400" y="220" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-10" target="jDEXYgaGeJS_ahB3zwSS-23"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-10" value="又一堆业务逻辑代码" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="590" y="220" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-12" value="准备修改数据库记录B，发现有事情不太对，需要整体回滚&lt;br&gt;&lt;br&gt;&lt;br&gt;抛异常，回滚" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="760" y="310" width="120" height="120" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-15" target="jDEXYgaGeJS_ahB3zwSS-17"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-15" value="请求入口" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1"><mxGeometry x="50" y="550" width="80" height="80" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-17" target="jDEXYgaGeJS_ahB3zwSS-19"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-17" value="一堆业务逻辑代码" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="220" y="560" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-19" target="jDEXYgaGeJS_ahB3zwSS-21"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-19" value="只在内存中修改" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="400" y="560" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-21" target="jDEXYgaGeJS_ahB3zwSS-35"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-21" value="又一堆业务逻辑代码" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="590" y="560" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-23" target="jDEXYgaGeJS_ahB3zwSS-26"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-23" target="jDEXYgaGeJS_ahB3zwSS-12"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-29" value="有问题" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="jDEXYgaGeJS_ahB3zwSS-28"><mxGeometry x="-0.0571" y="-3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-23" value="判断某个条件" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="610" y="330" width="80" height="80" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-26" value="存储数据库记录B" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="590" y="460" width="120" height="50" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-30" value="没问题，继续" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="610" y="415" width="100" height="30" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-31" value="准备修改数据库记录B，发现有事情不太对，直接return，屁事没有，因为A没写库" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="760" y="660" width="120" height="120" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-35" target="jDEXYgaGeJS_ahB3zwSS-36"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-35" target="jDEXYgaGeJS_ahB3zwSS-31"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-34" value="有问题" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="jDEXYgaGeJS_ahB3zwSS-33"><mxGeometry x="-0.0571" y="-3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-35" value="判断某个条件" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="610" y="680" width="80" height="80" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-36" value="A记录和B记录一起存库，批量操作，性能蹭蹭的" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="590" y="810" width="120" height="50" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-37" value="没问题，继续" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1"><mxGeometry x="610" y="765" width="100" height="30" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-41" target="jDEXYgaGeJS_ahB3zwSS-43"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-41" value="请求入口" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1"><mxGeometry x="50" y="930" width="80" height="80" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-43" target="jDEXYgaGeJS_ahB3zwSS-45"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-43" value="一堆业务逻辑代码" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="220" y="940" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-45" target="jDEXYgaGeJS_ahB3zwSS-47"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-45" value="只在内存中修改" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="400" y="940" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-47" value="又一堆业务逻辑代码" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="590" y="940" width="120" height="60" as="geometry"/></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="jDEXYgaGeJS_ahB3zwSS-47" target="jDEXYgaGeJS_ahB3zwSS-53"><mxGeometry relative="1" as="geometry"><mxPoint x="650" y="1030" as="sourcePoint"/></mxGeometry></mxCell><mxCell id="jDEXYgaGeJS_ahB3zwSS-53" value="需要进行统计或者查找之类的sql操作，你会发现此时，查不到A的修改，因为还在内存里面啊" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="585" y="1100" width="130" height="80" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>